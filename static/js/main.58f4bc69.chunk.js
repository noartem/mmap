(this.webpackJsonpmmap=this.webpackJsonpmmap||[]).push([[0],{58:function(e,t,n){e.exports=n(85)},63:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},85:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(28),c=n.n(o),l=(n(63),n(8)),u=n(44),i=n(32),s=function(){var e=localStorage.getItem("mmap-store");return""===e||null===e?{search:"",notes:[],currentNoteName:""}:JSON.parse(e)}(),m=Object(i.b)({name:"mmap",initialState:s,reducers:{search:function(e,t){e.search=t.payload},addNote:function(e,t){void 0!==e.notes.find((function(e){return e.name===t.payload}))?alert("Note with this name already exist!"):(e.notes.push({name:t.payload,body:"# ".concat(t.payload,"!\n\nSome *text* goes here...")}),e.search="")},selectNote:function(e,t){e.currentNoteName=t.payload},updateNote:function(e,t){var n,a=Object(u.a)(e.notes);try{for(a.s();!(n=a.n()).done;){var r=n.value;if(r.name===e.currentNoteName){r.name=t.payload.name,r.body=t.payload.body,e.currentNoteName=r.name;break}}}catch(o){a.e(o)}finally{a.f()}},deleteNote:function(e){e.notes=e.notes.filter((function(t){return t.name!==e.currentNoteName})),e.currentNoteName=""}}}),d=m.actions,f=d.search,p=d.addNote,v=d.selectNote,h=d.updateNote,b=d.deleteNote,E=function(e){return e.mmap},N=function(e){return e.mmap.notes.filter((function(t){return t.name.includes(e.mmap.search)}))},g=function(e){return e.mmap.notes.find((function(t){return t.name===e.mmap.currentNoteName}))},y=m.reducer;function w(){return r.a.createElement("div",{className:"s70m24p"},r.a.createElement("p",null,r.a.createElement("b",null," Alt + S")," focus search input"),r.a.createElement("p",null,r.a.createElement("b",null," Control + Alt + $number")," open ",r.a.createElement("i",null,"$number")," note"),r.a.createElement("p",null,r.a.createElement("b",null," Ctrl + B")," toggle edit mode"),r.a.createElement("p",null,r.a.createElement("b",null," Alt + I ")," delete note"),r.a.createElement("p",null,r.a.createElement("b",null," Escape ")," close note"))}n(69);var S=n(92),j=n(91),O=n(14);var k=Object(l.b)((function(e){return{search:E(e).search}}),(function(e){return{goSearch:function(t){return e(f(t))},addNote:function(t){return e(p(t))}}}))((function(e){var t=e.search,n=e.goSearch,o=e.addNote,c=Object(a.useRef)(null);return Object(O.a)(["alt","S"],(function(){var e;return null===(e=c.current)||void 0===e?void 0:e.focus()}),[c]),r.a.createElement("header",{className:"s1wuoji1"},r.a.createElement(j.a,{ref:c,name:"search",placeholder:"Search... (Alt + S to focus)",value:t,onChange:function(e){return n(e.target.value)}}),r.a.createElement(S.a,{focusable:!0,disabled:""===t,onClick:function(){return o(t)}},"Add"))}));n(70);var C=n(45);var A=Object(l.b)((function(e){return{notes:N(e)}}),(function(e){return{selectNote:function(t){return e(v(t))}}}))((function(e){var t=e.notes,n=e.selectNote;return function(e){var t=e.notes,n=e.selectNote,a=function(e){return Object(O.a)(["control","alt",String(e+1)],(function(){return e>=t.length?null:n(t[e].name)}),[t])};a(0),a(1),a(2),a(3),a(4),a(5),a(6),a(7),a(8),a(9)}({notes:t,selectNote:n}),r.a.createElement("div",{className:"s10xtx2v"},r.a.createElement("ul",null,t.map((function(e){return r.a.createElement("li",{title:e.name,key:e.name},r.a.createElement(C.a,{onClick:function(){return n(e.name)}},e.name))}))))}));n(71);var W=n(38),x=n(46),I=n(94),R=n(93),B=function(e){var t=e.className,n=e.children;return r.a.createElement(I.a,{className:"s1o9afm2",language:""===t||void 0===t?"":t.split("-")[1],style:R.a,children:n})};n(77);var J=Object(l.b)(null,(function(e){return{updateNote:function(t){return e(h(t))},deleteNote:function(){return e(b())},closeNote:function(){return e(v(""))}}}))((function(e){var t=e.note,n=e.updateNote,o=e.deleteNote,c=e.closeNote,l=Object(a.useState)(""),u=Object(W.a)(l,2),i=u[0],s=u[1],m=Object(a.useState)(""),d=Object(W.a)(m,2),f=d[0],p=d[1],v=Object(a.useRef)(null),h=""===i,b=function(){var e;p(t.name),s(t.body),null===(e=v.current)||void 0===e||e.focus()},E=function(){n({name:f,body:i}),p(""),s("")},N=function(){window.confirm("Are you sure?")&&o()};return Object(O.a)(["control","B"],(function(){return h?b():E()}),[t,f,i,v]),Object(O.a)(["alt","I"],N,[]),Object(O.a)(["Escape"],(function(){return c()}),[]),r.a.createElement("main",{className:"s1g3thq9"},r.a.createElement("nav",null,h?r.a.createElement("h1",null,t.name):r.a.createElement(j.a,{value:f,onChange:function(e){return p(e.target.value)}}),r.a.createElement("div",{className:"controls"},h?r.a.createElement(a.Fragment,null,r.a.createElement(S.a,{onClick:b},"Edit"),r.a.createElement(S.a,{onClick:N,unstable_system:{palette:"danger"}},"Delete")):r.a.createElement(S.a,{onClick:E},"Save"))),h?r.a.createElement("div",{id:"body_content",className:"markdown-body"},r.a.createElement(x.a,{children:t.body,options:{overrides:{code:{component:B}}}})):r.a.createElement(j.a,{name:"body",placeholder:"Some note body..",ref:v,value:i,as:"textarea",onChange:function(e){return s(e.target.value)}}))}));n(78);function U(){var e=Object(l.c)(g);return r.a.createElement("section",null,r.a.createElement(k,null),r.a.createElement("div",{className:"s1rzfy9k"},r.a.createElement(A,null),e?r.a.createElement(J,{note:e}):r.a.createElement(w,null)))}n(79);var $=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(U,null))},_=Object(i.a)({reducer:{mmap:y}});_.subscribe((function(){return localStorage.setItem("mmap-store",JSON.stringify(_.getState().mmap))}));var L=n(95),P=n(54),T=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function q(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,{store:_},r.a.createElement(L.a,{unstable_system:P},r.a.createElement($,null)))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/mmap",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/mmap","/service-worker.js");T?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):q(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):q(t,e)}))}}()}},[[58,209,210]]]);
//# sourceMappingURL=main.58f4bc69.chunk.js.map